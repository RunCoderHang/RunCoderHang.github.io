---
title:  泳池项目实验记录（八）
tags: 
date: 2021-01-09 23:30:00
categories: 学习总结
---

本周工作：排查出目前阶段出现的bug（跟踪过程中，一个目标会有多个框出现）

其主要原因是：线上在抓图的过程中会有跳帧的情况。而这个跳帧出现的原因就是我们目前算法需要一定的时间去处理数据。我们的算法是 检测 + 跟踪 两个模块组成，而我们的检测器运行效率大约是 20FPS 左右，但是我们的跟踪器处理速度很慢。目前我猜测跟踪器慢的原因有：

1. 跟踪器 DeepSORT 有会有特征匹配的过程，即 ReID部分。这部分耗时会比较长，因为它需要根据检测到的目标框把目标裁剪出来，然后与下一帧的目标进行特征匹配。
2. 人头人体匹配过程耗时。虽然还没有去验证是否有这个原因，不过我们所设计的匹配算法中是需要将得到的跟踪目标重新遍历一遍，把人头和人体进行匹配，因此匹配算法中设计的循环遍历比较多。
3. 过滤重叠框算法。这个是为了解决一个目标多个框而设计的。其过程就是将同一个目标的两个框进行平均处理，也就是将两个框的坐标取平均，然后删除某个框，赋值这个平均的框。这个算法也同样涉及循环遍历的过程。其时间复杂度为 $O(n^2)$ 。

以上是一些猜想，但是还需要去对每个地方的代码进行速度验证，然后再得出最终结论。

