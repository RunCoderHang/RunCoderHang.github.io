---
title:  泳池项目实验记录（九）
tags: 
date: 2022-01-16 23:30:00
categories: 学习总结
---


根据上周排查出现的 bug（跟踪过程中，一个目标会有多个框出现），本周工作则是想到了并实现了解决这个 bug 的方法。

先说一下该 bug 是否能解决：目前出现这个 bug 的原因是读取相机流的时候发生了跳帧，也就是当前帧与下一帧的中间发生了多帧的缺失。这对于跟踪器来说是致命的，因为跟踪器要对前后帧的进行数据关联，当跟踪目标与下一帧关联不上时，卡尔曼滤波就会预测一个新的跟踪框，当做一个新的目标去跟踪。

然而跳帧的的问题暂时解决不了，也有可能会很长一段时间都不会解决。因为发生跳帧是因为我们的检测器与跟踪器都会消耗时间，而这个时间的长短就决定了这个跳帧中缺失的帧的数量。消耗的时间越长，这个 bug 会出现的越明显。

- 解决方法：

目前的解决方法没有对我的跟踪器去进行更改，而是绕过跟踪器结果，将检测器结果作为输出。

也就是说，我们最终传输的坐标是检测结果，而我们的跟踪结果则是用于泳池人员的溺水判断。这样最终呈现的效果就没有该 bug。因此 bug 是一直存在的，而我们的解决方法是绕过这个 bug ，换一种思路。


- 解决方法（最终）：

当然，以上方法并不能完全解决问题。例如当泳池中人员比较多的情况，跟踪器会很耗时，就会出现比较严重的延迟，所以要想最终解决实质问题，需要将跟踪算法更替。使用纯算法的跟踪器。

